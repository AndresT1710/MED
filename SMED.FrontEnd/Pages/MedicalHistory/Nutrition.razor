@page "/medical-history/nutrition"
@using SMED.FrontEnd.Components

<TabContainer OnSave="GuardarDatos">
    <h4>Historia Clínica - Nutrición</h4>
    <PatientSelector />

    <div class="editable-table-wrapper">
        <EditableTable Title="Actividades Deportivas"
                       ColumnHeaders="@headersActividadesDeportivas"
                       Rows="@actividadesdeportivas"
                       ColumnOptions="@optionsActividadesDeportivas" />

        <EditableTable Title="Estilo de Vida"
                       ColumnHeaders="@headersEstiloDeVida"
                       Rows="@estilodevida"
                       ColumnOptions="@optionsEstiloDeVida" />

        <EditableTable Title="Hábitos Dietéticos"
                       ColumnHeaders="@headersCirugias"
                       Rows="@cirugias"
                       ColumnOptions="@optionsCirugias" />

        <EditableTable Title="Hábitos de Sueño"
                       ColumnHeaders="@headersAlergias"
                       Rows="@alergias"
                       ColumnOptions="@optionsAlergias" />

        <EditableTable Title="Consumo de Alimentos"
                       ColumnHeaders="@headersHabitos"
                       Rows="@habitos"
                       ColumnOptions="@optionsHabitos" />

        <EditableTable Title="Consumo de Agua"
                       ColumnHeaders="@headersHabitos"
                       Rows="@habitos"
                       ColumnOptions="@optionsHabitos" />
    </div>



</TabContainer>

@code {



    // Headers
    List<string> headersActividadesDeportivas = new() { "Actividad", "Minutos al día", "Número de dias/semana" };
    List<string> headersEstiloDeVida = new() { "Estilo de Vida" };
    List<string> headersCirugias = new() { "Procedimiento", "Fecha de Cirugía", "Secuelas" };
    List<string> headersAlergias = new() { "Alergeno", "Reacción", "Severidad" };
    List<string> headersHabitos = new() { "Hábito" };

    // Datos
    List<List<string>> actividadesdeportivas = new();
    List<List<string>> estilodevida = new();
    List<List<string>> cirugias = new();
    List<List<string>> alergias = new();
    List<List<string>> habitos = new();

    // Opciones para los selects
    Dictionary<string, List<string>> optionsActividadesDeportivas = new()
        {
            ["Actividad"] = new() { "Cardiovascular", "Endocrina", "Oncologica", "Otro" },
            ["Minutos al día"] = new() { "10-30", "30-60", "60-90", "90-más" },
            ["Número de dias/semana"] = new() { "1", "2", "3", "4","5","6" ,"7"},
        };

    Dictionary<string, List<string>> optionsEstiloDeVida = new()
        {
            ["Estilo De Vida"] = new() { "Sedentario", "Nomada", "Minimalista", "Maximalista" }
        };

    // Similar para las otras tablas...
    Dictionary<string, List<string>> optionsCirugias = new()
        {
            ["Procedimiento"] = new() { "Apéndice", "Vesícula", "Rodilla", "Cesárea" },
            ["Fecha de Cirugía"] = new() { "2023", "2020", "2015", "2010" },
            ["Secuelas"] = new() { "Ninguna", "Infección", "Hemorragia", "Otra" }
        };

    Dictionary<string, List<string>> optionsAlergias = new()
        {
            ["Alergeno"] = new() { "Penicilina", "Aspirina", "Mariscos", "Polvo" },
            ["Reacción"] = new() { "Urticaria", "Anafilaxia", "Erupción", "Edema" },
            ["Severidad"] = new() { "Leve", "Moderada", "Severa", "Crítica" }
        };

    Dictionary<string, List<string>> optionsHabitos = new()
        {
            ["Hábito"] = new() { "Tabaco", "Alcohol", "Cafeína", "Ejercicio" }
        };


    private async Task GuardarDatos()
    {
        Console.WriteLine("Guardando datos del historial nutricional...");
        // Lógica real de guardado aquí
    }
}
